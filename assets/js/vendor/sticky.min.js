!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t,e){var i=!1;return function(){i||(t.call(),i=!0,setTimeout(function(){i=!1,t.call()},e))}}var i=Array.prototype.slice,n=Array.prototype.splice,r={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},s=t(window),o=t(document),c=[],a=s.height(),p=e(function(){for(var e=s.scrollTop(),i=o.height(),n=i-a,r=e>n?n-e:0,p=0,d=c.length;p<d;p++){var l=c[p],u=l.stickyWrapper.offset().top,h=u-l.topSpacing-r;if(l.stickyWrapper.css("height",l.stickyElement.outerHeight()),e<=h)null!==l.currentTop&&(l.stickyElement.css({width:"",position:"",top:"","z-index":""}),l.stickyElement.parent().removeClass(l.className).css("height",""),l.stickyElement.trigger("sticky-end",[l]),l.currentTop=null);else{var g=i-l.stickyElement.outerHeight()-l.topSpacing-l.bottomSpacing-e-r;if(g<0?g+=l.topSpacing:g=l.topSpacing,l.currentTop!==g){var f;l.getWidthFrom?f=t(l.getWidthFrom).width()||null:l.widthFromWrapper&&(f=l.stickyWrapper.width()),null==f&&(f=l.stickyElement.width()),l.stickyElement.css("width",f).css("position","fixed").css("top",g).css("z-index",l.zIndex),l.stickyElement.parent().addClass(l.className),null===l.currentTop?l.stickyElement.trigger("sticky-start",[l]):l.stickyElement.trigger("sticky-update",[l]),l.currentTop===l.topSpacing&&l.currentTop>g||null===l.currentTop&&g<l.topSpacing?l.stickyElement.trigger("sticky-bottom-reached",[l]):null!==l.currentTop&&g===l.topSpacing&&l.currentTop<g&&l.stickyElement.trigger("sticky-bottom-unreached",[l]),l.currentTop=g}var m=l.stickyWrapper.parent();l.stickyElement.offset().top+l.stickyElement.outerHeight()>=m.offset().top+m.outerHeight()&&l.stickyElement.offset().top<=l.topSpacing?l.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):l.stickyElement.css("position","fixed").css("top",g).css("bottom","").css("z-index",l.zIndex)}}},10),d=e(function(){a=s.height();for(var e=0,i=c.length;e<i;e++){var n=c[e],r=null;n.getWidthFrom?n.responsiveWidth&&(r=t(n.getWidthFrom).width()):n.widthFromWrapper&&(r=n.stickyWrapper.width()),null!=r&&n.stickyElement.css("width",r)}},10),l={init:function(e){return this.each(function(){var i=t.extend({},r,e),n=t(this),s=n.attr("id"),o=s?s+"-"+r.wrapperClassName:r.wrapperClassName,a=t("<div></div>").attr("id",o).addClass(i.wrapperClassName);n.wrapAll(function(){if(0==t(this).parent("#"+o).length)return a});var p=n.parent();i.center&&p.css({width:n.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===n.css("float")&&n.css({float:"none"}).parent().css({float:"right"}),i.stickyElement=n,i.stickyWrapper=p,i.currentTop=null,c.push(i),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(e){var i=t(e),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(t){if(window.MutationObserver){new window.MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&l.setWrapperHeight(t)}).observe(t,{subtree:!0,childList:!0})}else window.addEventListener?(t.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(t)},!1),t.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(t)},!1)):window.attachEvent&&(t.attachEvent("onDOMNodeInserted",function(){l.setWrapperHeight(t)}),t.attachEvent("onDOMNodeRemoved",function(){l.setWrapperHeight(t)}))},update:p,unstick:function(e){return this.each(function(){for(var e=this,i=t(e),r=-1,s=c.length;s-- >0;)c[s].stickyElement.get(0)===e&&(n.call(c,s,1),r=s);-1!==r&&(i.unwrap(),i.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",p,!1),window.addEventListener("resize",d,!1)):window.attachEvent&&(window.attachEvent("onscroll",p),window.attachEvent("onresize",d)),t.fn.sticky=function(e){return l[e]?l[e].apply(this,i.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},t.fn.unstick=function(e){return l[e]?l[e].apply(this,i.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},t(function(){setTimeout(p,0)})});